@model ADJ.BusinessService.Dtos.VesselDepartureDtos


<div class="vessel-right">

	@*filter form*@

	<form asp-action="Filter"
				asp-controller="VesselDeparture" method="post">
		@*header*@
		<div class="uk-grid uk-width-1-1 vessel-header">
			<div class="uk-width-2-5">

				<div class="uk-margin">
					<label class="uk-form-label vessel-header-label" for="form-horizontal-select">Origin</label>
					<div class="uk-form-controls vassell-header-formSelect" id="origin">

						<select asp-for="filterDto.origin" class="uk-select" id="form-horizontal-select">
							<option></option>
							<option>VietNam</option>
							<option>HongKong</option>
						</select>

					</div>
				</div>

				<div class="uk-margin">
					<label class="uk-form-label vessel-header-label" for="form-horizontal-select">Origin Port</label>
					<div class="uk-form-controls vassell-header-formSelect" id="originPort">
						<select asp-for="filterDto.originPort" class="uk-select" id="form-horizontal-select">
							<option></option>
							@foreach (var i in ViewBag.OriginPort)
							{
								<option>@i</option>
							}
						</select>

					</div>
				</div>

				<div class="uk-margin">
					<label class="uk-form-label vessel-header-label" for="form-horizontal-text">Container</label>
					<div class="uk-form-controls vassell-header-formSelect">
						<input asp-for="filterDto.container" class="uk-input" id="form-horizontal-text" type="text" placeholder="Some text...">
					</div>
				</div>

			</div>

			<div class="uk-width-2-5">

				<div class="uk-margin">
					<label class="uk-form-label vessel-header-label" for="form-horizontal-select">Status</label>
					<div class="uk-form-controls vassell-header-formSelect" id="status">
						<select asp-for="filterDto.status" class="uk-select" id="form-horizontal-select">
							<option></option>
							<option>Pending</option>
							<option>Despatch</option>
						</select>
					</div>
				</div>

				<div class="uk-margin">
					<label class="uk-form-label vessel-header-label" for="form-horizontal-select">ETD From</label>
					<div class="uk-form-controls vassell-header-formSelect">
						<input asp-for="filterDto.etdFrom" type="date" class="uk-input">
					</div>
				</div>

				<div class="uk-margin">
					<label class="uk-form-label vessel-header-label" for="form-horizontal-select">ETD To</label>
					<div class="uk-form-controls vassell-header-formSelect">
						<input asp-for="filterDto.etdTo" id="etdTo" type="date" class="uk-input">
					</div>
				</div>


			</div>
			<div class="uk-width-1-5">
				<p uk-margin>
					<input type="submit" />

				</p>

				@*<p uk-margin>
						<button class="uk-button uk-button-danger">
								Achieve<span uk-icon="check"></span>
							</button>
						<button class="uk-button uk-button-danger">
							Achieve<span uk-icon="check"></span>
						</button>
					</p>*@
			</div>
		</div> @*end header*@
	</form>

	@if (Model.lstContainerDto.Count == 0)
	{
		<h4>No match result. Please try again !</h4>
	}
	else
	{
		int start = 0;

		for (int x = start; x < Model.lstContainerDto.Count; x++)
		{
			if (x == Model.lstContainerDto.Count - 1)
			{
				<div class="uk-grid uk-width-1-1 table-vessel">
					<table class="uk-table ">
						<thead>
							<tr>
								<th>Origin Port</th>
								<th>Dest Port</th>
								<th>Mode</th>
								<th>Carrier</th>
								<th>Voyage</th>
								<th>ETD</th>
								<th>ETA</th>
								<th>Transhipment</th>
							</tr>
						</thead>

						<tbody>
							<tr>
								<td>
									<div class="uk-form-controls">
										<div class="uk-form-controls vassell-header-formSelect" id="originPortChange">
											<select class="uk-select" name="originPortChange" id="form-horizontal-select">
												<option>@Model.lstContainerDto[x].OriginPort</option>
												@foreach (var i in ViewBag.OriginPort)
												{
													if (i != Model.lstContainerDto[x].OriginPort)
													{
														<option>@i</option>
													}
												}
											</select>
										</div>
									</div>
								</td>
								<td>
									<div class="uk-form-controls">
										<div class="uk-form-controls vassell-header-formSelect" id="destChange">
											<select class="uk-select" name="destChange" id="form-horizontal-select">
												<option>@Model.lstContainerDto[x].DestPort</option>
												@foreach (var i in ViewBag.Dest)
												{
													if (i != Model.lstContainerDto[x].DestPort)
													{
														<option>@i</option>
													}
												}
											</select>
										</div>
									</div>
								</td>
								<td>
									<div class="uk-form-controls">
										<div class="uk-form-controls vassell-header-formSelect" id="modeChange">
											<select class="uk-select" name="modeChange" id="form-horizontal-select">
												<option>@Model.lstContainerDto[x].Loading</option>
												@foreach (var i in ViewBag.Mode)
												{
													if (i != Model.lstContainerDto[x].Loading)
													{
														<option>@i</option>
													}
												}
											</select>
										</div>
									</div>
								</td>
								<td>
									<div class="uk-form-controls">
										<div class="uk-form-controls vassell-header-formSelect" id="carrierChange">
											<select class="uk-select" name="carrierChange" id="form-horizontal-select">
												<option>@Model.lstContainerDto[x].Carrier</option>
												@foreach (var i in ViewBag.Carrier)
												{
													if (i != Model.lstContainerDto[x].Carrier)
													{
														<option>@i</option>
													}
												}
											</select>
										</div>
									</div>
								</td>
								<td>
									<input class="uk-input" name="voyageChange" id="form-horizontal-text" type="text" value="@Model.lstContainerDto[x].Voyage">
								</td>
								<td>@Model.lstContainerDto[x].ETD.ToString("dd MMM yyyy")</td>
								<td>@Model.lstContainerDto[x].ETA.ToString("dd MMM yyyy")</td>
							</tr>
						</tbody>
					</table>
				</div>

				@*table2*@
				<div class="uk-grid uk-width-1-2 table-vessel">
					<table class="uk-table">
						<thead>
							<tr>
								<th></th>
								<th>Container</th>
								<th>Size</th>
								<th>Status</th>
							</tr>
						</thead>
						<tbody>

							<tr>
								<td>
									<input type="checkbox" name="choiseContainer" />
								</td>
								<td>@Model.lstContainerDto[x].Name</td>
								<td>@Model.lstContainerDto[x].Size</td>
								<td>@Model.lstContainerDto[x].Status</td>
							</tr>


						</tbody>
					</table>
				</div>
			}
			else
			{
				if (Model.lstContainerDto[x].OriginPort != Model.lstContainerDto[x + 1].OriginPort || Model.lstContainerDto[x].DestPort != Model.lstContainerDto[x + 1].DestPort || Model.lstContainerDto[x].Loading != Model.lstContainerDto[x + 1].Loading || Model.lstContainerDto[x].Carrier != Model.lstContainerDto[x + 1].Carrier)
				{
					int end = x;

					<div class="uk-grid uk-width-1-1 table-vessel">
						<table class="uk-table table1">
							<thead>
								<tr>
									<th>Origin Port</th>
									<th>Dest Port</th>
									<th>Mode</th>
									<th>Carrier</th>
									<th>Voyage</th>
									<th>ETD</th>
									<th>ETA</th>
									<th>Transhipment</th>
								</tr>
							</thead>

							<tbody>
								<tr>
									<td>
										<div class="uk-form-controls">
											<div class="uk-form-controls vassell-header-formSelect" id="originPortChange">
												<select class="uk-select" name="originPortChange" id="form-horizontal-select">
													<option>@Model.lstContainerDto[start].OriginPort</option>
													@foreach (var i in ViewBag.OriginPort)
													{
														if (i != Model.lstContainerDto[start].OriginPort)
														{
															<option>@i</option>
														}
													}
												</select>
											</div>
										</div>
									</td>
									<td>
										<div class="uk-form-controls">
											<div class="uk-form-controls vassell-header-formSelect" id="destChange">
												<select class="uk-select" name="destChange" id="form-horizontal-select">
													<option>@Model.lstContainerDto[start].DestPort</option>
													@foreach (var i in ViewBag.Dest)
													{
														if (i != Model.lstContainerDto[start].DestPort)
														{
															<option>@i</option>
														}
													}
												</select>
											</div>
										</div>
									</td>
									<td>
										<div class="uk-form-controls">
											<div class="uk-form-controls vassell-header-formSelect" id="modeChange">
												<select class="uk-select" name="modeChange" id="form-horizontal-select">
													<option>@Model.lstContainerDto[start].Loading</option>
													@foreach (var i in ViewBag.Mode)
													{
														if (i != Model.lstContainerDto[start].Loading)
														{
															<option>@i</option>
														}
													}
												</select>
											</div>
										</div>
									</td>
									<td>
										<div class="uk-form-controls">
											<div class="uk-form-controls vassell-header-formSelect" id="carrierChange">
												<select class="uk-select" name="carrierChange" id="form-horizontal-select">
													<option>@Model.lstContainerDto[start].Carrier</option>
													@foreach (var i in ViewBag.Carrier)
													{
														if (i != Model.lstContainerDto[start].Carrier)
														{
															<option>@i</option>
														}
													}
												</select>
											</div>
										</div>
									</td>
									<td>
										<input class="uk-input" name="voyageChange" id="form-horizontal-text" type="text" value="@Model.lstContainerDto[start].Voyage">
									</td>
									<td>@Model.lstContainerDto[start].ETD.ToString("dd MMM yyyy")</td>
									<td>@Model.lstContainerDto[start].ETA.ToString("dd MMM yyyy")</td>
								</tr>
							</tbody>
						</table>
					</div>
					@*table2*@
					<div class="uk-grid uk-width-1-2 table-vessel">
						<table class="uk-table">
							<thead>
								<tr>
									<th></th>
									<th>Container</th>
									<th>Size</th>
									<th>Status</th>
								</tr>
							</thead>
							<tbody>
								@for (int a = start; a <= end; a++)
								{
									<tr>
										<td>
											<input type="checkbox" name="choiseContainer" />
										</td>
										<td>@Model.lstContainerDto[a].Name</td>
										<td>@Model.lstContainerDto[a].Size</td>
										<td>@Model.lstContainerDto[a].Status</td>
									</tr>
								}
							</tbody>
						</table>
					</div>
					start = x + 1;
				}
			}
		}
	}

</div>

